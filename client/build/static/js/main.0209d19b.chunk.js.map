{"version":3,"sources":["components/Vehicle.js","components/AllVehicles.js","components/Login.js","components/Signup.js","components/App.js","index.js"],"names":["Vehicle","id","make","model","locationDescription","year","className","AllVehicles","useState","vehicles","setVehicles","isVehiclesExist","map","item","key","location_description","useEffect","axios","get","then","res","data","catch","err","console","error","Login","handleUserAuthChange","history","useHistory","onSubmit","e","preventDefault","FormData","target","values","email","password","fetch","method","headers","body","JSON","stringify","result","json","success","log","msg","isAuthenticated","push","type","name","value","to","handleSubmit","Signup","App","setIsAuthenticated","boolValue","cb","PrivateRoute","Component","component","rest","props","pathname","path","render","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.0209d19b.chunk.js","sourcesContent":["import React from 'react';\nimport '../css/Vehicle.css';\n\nconst Vehicle = ({id, make, model, year, locationDescription}) => {\n    return (\n        <div className='vehicle'>\n            <p>Vehicle ID: {id}</p>\n            <h2>{`${make} ${model}`}</h2>\n            <p>{locationDescription}</p>\n        </div>\n    )\n}\n\nexport default Vehicle;","import React, {useEffect, useState} from 'react';\nimport axios from 'axios';\n\nimport Vehicle from './Vehicle';\n\nimport '../css/AllVehicles.css'\n\nconst AllVehicles = () => {\n    const [vehicles, setVehicles] = useState();\n    const isVehiclesExist = vehicles \n        ? vehicles.map(item => \n            <Vehicle\n                key={item.id} \n                id={item.id}\n                make={item.make}\n                model={item.model} \n                year={item.year}\n                locationDescription={item.location_description}\n            />) \n        :   <div>No Vehicle</div>;\n\n    useEffect(() => {\n        axios\n            .get('/vehicles')\n            .then( res => {\n                const { data } = res;\n                setVehicles(data);\n            })\n            .catch( err => {\n                console.error(err);\n            })\n    })\n\n    return (\n            <div className=\"all-vehicles-container\">\n                <h1 className=\"all-vehicles-title\">All Vehicles</h1>\n                <div className=\"vehicle-card-container\">\n                    {isVehiclesExist}\n                </div> \n            </div>\n    )\n}\n\nexport default AllVehicles;","import React from 'react';\nimport { Link, useHistory } from \"react-router-dom\";\n\nimport'../css/Login.css';\n\nfunction Login ({handleUserAuthChange}){\n    const history = useHistory();\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        const formData = new FormData(e.target);\n        const [email, password] = formData.values();\n    \n        fetch('/login', {\n            method: 'POST',\n            headers : {'Content-Type' : 'application/json'},\n            body: JSON.stringify({email, password})\n        }).then(result =>{ //result is a ReadableStream object\n            return result.json();  //result.json() parses the data into useable format (json)\n        }).then(data => {\n             //Log message is request isn't sucessful\n            if(!data.success){\n                console.log(data.msg);\n            }\n            if(data.isAuthenticated){\n                handleUserAuthChange(true, ()=>{\n                    history.push('/vehicles');\n                });\n            }\n        }).catch(err => console.log(err));\n    }\n\n    return (\n        <div className=\"form-container\">\n            <form onSubmit={handleSubmit}>\n                <label>Email:</label>\n                <input id=\"email\" type=\"email\" name=\"email\"/>\n                <label>Password:</label>\n                <input id=\"password\" type=\"password\" name=\"password\"/>\n                <input type=\"submit\" value=\"Submit\"/>\n            </form>\n            <Link to=\"/signup\">Not a member? Sign up here</Link>\n        </div>\n\n    )\n}\n\nexport default Login;","import React from 'react';\nimport { Link } from \"react-router-dom\";\n\nimport '../css/Signup.css'\n\nconst handleSubmit = (e) => {\n    const formData = new FormData(e.target);\n    const [email, password] = formData.values();\n    e.preventDefault();\n    fetch('/signup', {\n        method: 'POST',\n        headers : {'Content-Type' : 'application/json'},\n        body: JSON.stringify({email, password})\n    }).then(result=> {\n        return result.json();\n    }).then( data =>{\n        //Log message is request isn't sucessful\n        if(!data.success){\n            console.log(data.msg);\n        }\n    }).catch(err=>{\n        console.error(err);\n    })\n}\n\nconst Signup = () => {\n    return (\n        <div className=\"form-container\">\n            <form onSubmit={handleSubmit}> \n                <label>Email:</label>\n                <input type=\"email\" name=\"email\"/>\n                <label>Password:</label>\n                <input type=\"password\" name=\"password1\"/>\n                <label>Repeat Password:</label>\n                <input type=\"password\" name=\"password2\"/>\n                <input type=\"submit\" value=\"Submit\"/>\n            </form>\n            <Link to=\"/login\">Already a member? Login here</Link>\n        </div>\n       \n    )\n}\n\nexport default Signup;","import React, {useState} from 'react';\nimport {BrowserRouter as Router, Switch, Route, Redirect} from 'react-router-dom';\n\nimport AllVehicles from './AllVehicles';\nimport Login from './Login';\nimport Signup from './Signup';\n\nimport '../css/App.css'\n\n\n\nfunction App() {\n    const [isAuthenticated, setIsAuthenticated] = useState(false);\n\n    const handleUserAuthChange = (boolValue, cb) => {\n        setIsAuthenticated(boolValue);\n        cb();\n    }\n\n    const PrivateRoute = ({isAuthenticated, component : Component, ...rest}) => {\n        return ( \n            <Route\n                {...rest}\n                component={\n                    props => isAuthenticated \n                    ? <Component {...props}/>\n                    : (<Redirect to={{ pathname: '/'}}/>)\n                }\n            />\n        )\n    }\n\n    return (\n        <div className=\"app-background\">\n            <Router> \n                <Switch>    \n                    <Route path='/login' \n                            render={() => <Login handleUserAuthChange={handleUserAuthChange}/>}>\n                    </Route>\n                    <Route path='/signup' \n                            render={() => <Signup/>}>\n                    </Route>\n                    <PrivateRoute path='/vehicles' isAuthenticated={isAuthenticated} component={AllVehicles}>\n                    </PrivateRoute>\n                    <Route path='/' \n                            render={() => <Login handleUserAuthChange={handleUserAuthChange}/>}>\n                    </Route>\n                </Switch>\n            </Router>\n     \n        </div>\n    )\n}\n\n\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport App from './components/App.js';\n\nReactDOM.render(<App/>, document.getElementById('root'));"],"sourceRoot":""}